<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Apply functions to two vectors simultaniously in 'dplyr' — over2 • dplyover</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Apply functions to two vectors simultaniously in 'dplyr' — over2" />
<meta property="og:description" content="over2() and over2x() are variants of over() that iterate over two
objects simultaneously. over2() loops each pair of elements in .x and
.y over one or more functions, while over2x() loops
all pairwise combinations between elements in .x a .y over one or more
functions." />
<meta property="og:image" content="https://timteafan.github.io/dplyover/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dplyover</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.8.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fas fa-tools"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-book-open"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/why_dplyover.html">Why dplyover?</a>
    </li>
    <li>
      <a href="../articles/performance.html">Performance and Compability</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fas fa-clipboard-list"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://twitter.com/timteafan">
    <span class="fab fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/TimTeaFan/dplyover/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Apply functions to two vectors simultaniously in 'dplyr'</h1>
    <small class="dont-index">Source: <a href='https://github.com/TimTeaFan/dplyover/blob/master/R/over2.R'><code>R/over2.R</code></a></small>
    <div class="hidden name"><code>over2.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>over2()</code> and <code>over2x()</code> are variants of <code><a href='over.html'>over()</a></code> that iterate over two
objects simultaneously. <code>over2()</code> loops each <em>pair of elements</em> in <code>.x</code> and
<code>.y</code> over one or more functions, while <code>over2x()</code> loops
<em>all pairwise combinations between elements</em> in <code>.x</code> a <code>.y</code> over one or more
functions.</p>
    </div>

    <pre class="usage"><span class='fu'>over2</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.fns</span>, <span class='va'>...</span>, .names <span class='op'>=</span> <span class='cn'>NULL</span>, .names_fn <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>over2x</span><span class='op'>(</span><span class='va'>.x</span>, <span class='va'>.y</span>, <span class='va'>.fns</span>, <span class='va'>...</span>, .names <span class='op'>=</span> <span class='cn'>NULL</span>, .names_fn <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.x, .y</th>
      <td><p>An atomic vector or list to apply functions to. Alternatively a
&lt;<code><a href='selection_helpers.html'>selection helper</a></code>&gt; can be used to create a vector.
<code>over2()</code> requires <code>.x</code> and <code>.y</code> to be of the same length.</p></td>
    </tr>
    <tr>
      <th>.fns</th>
      <td><p>Functions to apply to each of the elements in <code>.x</code> and <code>.y</code>. .</p>
<p>Possible values are:</p><ul>
<li><p>A function</p></li>
<li><p>A purrr-style lambda</p></li>
<li><p>A list of functions/lambdas</p></li>
</ul>

<p>For examples see the example section below.</p>
<p>Note that <code>NULL</code> is not accepted as argument to <code>.fns</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments for the function calls in <code>.fns</code>.</p></td>
    </tr>
    <tr>
      <th>.names</th>
      <td><p>A glue specification that describes how to name the output
columns. This can use <code>{x}</code> and <code>{y}</code> to stand for the selected vector element,
and <code>{fn}</code> to stand for the name of the function being applied. The default
(<code>NULL</code>) is equivalent to <code>"{x}_{y}"</code> for the single function case and
<code>"{x}_{y}_{fn}"</code> for the case where a list is used for <code>.fns</code>.</p>
<p>Note that, depending on the nature of the underlying object in <code>.x</code> and <code>.y</code>,
specifying <code>{x}/{y}</code> will yield different results:</p><ul>
<li><p>If <code>.x/.y</code> is an unnamed atomic vector, <code>{x}/{y}</code> will represent each value.</p></li>
<li><p>If <code>.x/.y</code> is a named list or atomic vector, <code>{x}/{y}</code> will represent each name.</p></li>
<li><p>If <code>.x/.y</code> is an unnamed list, <code>{x}/{y}</code> will be the index number running
from 1 to <code><a href='https://rdrr.io/r/base/length.html'>length(x)</a></code> or <code><a href='https://rdrr.io/r/base/length.html'>length(y)</a></code> respectively.</p></li>
</ul>

<p>This standard behavior (interpretation of <code>{x}/{y}</code>) can be overwritten by
directly specifying:</p><ul>
<li><p><code>{x_val}</code> or <code>{y_val}</code> for <code>.x</code>'s or  <code>.y</code>'s values</p></li>
<li><p><code>{x_nm}</code> or <code>{y_nm}</code> for their names</p></li>
<li><p><code>{x_idx}</code> or <code>{y_idx}</code> for their index numbers</p></li>
</ul>

<p>Alternatively, a character vector of length equal to the number of columns to
be created can be supplied to <code>.names</code>. Note that in this case, the glue
specification described above is not supported.</p></td>
    </tr>
    <tr>
      <th>.names_fn</th>
      <td><p>Optionally, a function that is applied after the glue
specification in <code>.names</code> has been evaluated. This is, for example, helpful
in case the resulting names need to be further cleaned or trimmed.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>over2()</code> returns a tibble with one column for each pair of elements in <code>.x</code>
and <code>.y</code> combined with each function in <code>.fns</code>.</p>
<p><code>over2x()</code> returns a tibble with one column for each combination between elements
in <code>.x</code> and <code>.y</code> combined with each function in <code>.fns</code>.</p>
    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>

    


<p>For the basic functionality please refer to the examples in <code><a href='over.html'>over()</a></code>.<div class="r"></p><pre><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>

<span class='co'># For better printing</span>
<span class='va'>iris</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/as_tibble.html'>as_tibble</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>)</span>
</pre><p></div></p>
<p>When doing exploratory analysis, it is often helpful to transform continious variables
into several categorial variables. Below we use <code>over2()</code> to loop over two lists
containing "breaks" and "labels" arguments, which we then use in a call to <code><a href='https://rdrr.io/r/base/cut.html'>cut()</a></code>:<div class="r"></p><pre><span class='va'>brks</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>b1 <span class='op'>=</span> <span class='fl'>3</span><span class='op'>:</span><span class='fl'>8</span>,
             b2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>9</span>, by <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>labs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>l1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"3 to 4"</span>, <span class='st'>"4 to 5"</span>, <span class='st'>"5 to 6"</span>,
                   <span class='st'>"6 to 7"</span>, <span class='st'>"7 to 8"</span><span class='op'>)</span>,
            l2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"3 to 5"</span>, <span class='st'>"5 to 7"</span>, <span class='st'>"7 to 9"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>iris</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>transmute</a></span><span class='op'>(</span><span class='fu'>over2</span><span class='op'>(</span><span class='va'>brks</span>, <span class='va'>labs</span>,
                  <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/cut.html'>cut</a></span><span class='op'>(</span><span class='va'>Sepal.Length</span>,
                        breaks <span class='op'>=</span> <span class='va'>.x</span>,
                        labels <span class='op'>=</span> <span class='va'>.y</span><span class='op'>)</span>,
                  .names <span class='op'>=</span> <span class='st'>"Sepal.Length.cut{x_idx}"</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'>#&gt; # A tibble: 150 x 2</span>
<span class='co'>#&gt;   Sepal.Length.cut1 Sepal.Length.cut2</span>
<span class='co'>#&gt;   &lt;fct&gt;             &lt;fct&gt;            </span>
<span class='co'>#&gt; 1 5 to 6            5 to 7           </span>
<span class='co'>#&gt; 2 4 to 5            3 to 5           </span>
<span class='co'>#&gt; 3 4 to 5            3 to 5           </span>
<span class='co'>#&gt; 4 4 to 5            3 to 5           </span>
<span class='co'>#&gt; # ... with 146 more rows</span>
</pre><p></div></p>
<p><code>over2x()</code> makes it possible to create dummy variables for interaction effects
of two variables. In the example below, each customer 'type' is combined with
each 'product' type:<div class="r"></p><pre><span class='va'>csat</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>transmute</a></span><span class='op'>(</span><span class='fu'>over2x</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>type</span><span class='op'>)</span>,
                   <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>product</span><span class='op'>)</span>,
                   <span class='op'>~</span> <span class='va'>type</span> <span class='op'>==</span> <span class='va'>.x</span> <span class='op'>&amp;</span> <span class='va'>product</span> <span class='op'>==</span> <span class='va'>.y</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='va'>glimpse</span>
<span class='co'>#&gt; Rows: 150</span>
<span class='co'>#&gt; Columns: 9</span>
<span class='co'>#&gt; $ existing_advanced   &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, ~</span>
<span class='co'>#&gt; $ existing_premium    &lt;lgl&gt; FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE~</span>
<span class='co'>#&gt; $ existing_basic      &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS~</span>
<span class='co'>#&gt; $ reactivate_advanced &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE,~</span>
<span class='co'>#&gt; $ reactivate_premium  &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS~</span>
<span class='co'>#&gt; $ reactivate_basic    &lt;lgl&gt; FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE~</span>
<span class='co'>#&gt; $ new_advanced        &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS~</span>
<span class='co'>#&gt; $ new_premium         &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE~</span>
<span class='co'>#&gt; $ new_basic           &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE,~</span>
</pre><p></div></p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tim Tiefenbach.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


